# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Resend (Email Service - WhatsApp notifications)
RESEND_API_KEY=re_your_api_key
RESEND_FROM_EMAIL=notifications@moncabinet.tn

# Brevo (Email Service - Notifications quotidiennes)
# Obtenir une clé: https://app.brevo.com/settings/keys/api
BREVO_API_KEY=xkeysib-...
BREVO_SENDER_EMAIL=notifications@moncabinet.tn
BREVO_SENDER_NAME=MonCabinet

# Cron Jobs (Notifications quotidiennes)
# Générer avec: openssl rand -hex 32
# Utilisé pour sécuriser l'endpoint /api/cron/daily-digest
CRON_SECRET=your-random-cron-secret-min-32-chars

# Google Drive OAuth (Cloud Storage)
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:7002/api/integrations/google-drive/callback
GOOGLE_DRIVE_WEBHOOK_VERIFY_TOKEN=your-random-verify-token-min-32-chars

# WhatsApp Business API (Messaging)
WHATSAPP_WEBHOOK_VERIFY_TOKEN=your-random-verify-token-min-20-chars
WHATSAPP_APP_SECRET=your-meta-app-secret

# Application
NEXT_PUBLIC_APP_URL=http://localhost:7002
NEXT_PUBLIC_APP_NAME=MonCabinet
NEXT_PUBLIC_APP_DOMAIN=moncabinet.tn

# Security - Encryption Key pour chiffrer tokens Google Drive
# Générer avec: openssl rand -hex 32
# IMPORTANT: Ne JAMAIS commit cette clé dans Git!
ENCRYPTION_KEY=your-64-char-hex-key-generated-with-openssl-rand-hex-32-here

# Environment
NODE_ENV=development

# =============================================================================
# IA / RAG Configuration
# =============================================================================

# Anthropic Claude (LLM principal pour chat et génération)
# Obtenir une clé: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-api03-...
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022

# OpenAI (Embeddings cloud - utilisé si Ollama non disponible)
# Obtenir une clé: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-...
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# Ollama Embeddings (RECOMMANDÉ - gratuit, local, illimité)
# Installation: brew install ollama && ollama serve
# Télécharger modèle: ollama pull qwen3-embedding:0.6b
# Alternative légère: ollama pull granite-embedding
OLLAMA_ENABLED=true
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_EMBEDDING_MODEL=qwen3-embedding:0.6b

# RAG Configuration
RAG_ENABLED=false
RAG_CHUNK_SIZE=1024
RAG_CHUNK_OVERLAP=100
RAG_MAX_RESULTS=5
RAG_SIMILARITY_THRESHOLD=0.7

# RAG Seuils par type de source (optionnel)
RAG_THRESHOLD_DOCUMENTS=0.7
RAG_THRESHOLD_JURISPRUDENCE=0.6
RAG_THRESHOLD_KB=0.65
RAG_THRESHOLD_MIN=0.5

# RAG Diversité des sources (optionnel)
RAG_MAX_CHUNKS_PER_SOURCE=2
RAG_MIN_SOURCES=2

# Quotas IA (par utilisateur)
AI_MONTHLY_QUOTA_DEFAULT=100
AI_MAX_TOKENS_PER_REQUEST=4000

# =============================================================================
# Backups Configuration
# =============================================================================

# Répertoire des backups (doit exister et avoir les permissions)
BACKUP_DIR=/opt/backups/moncabinet

# Script de backup (chemin absolu)
BACKUP_SCRIPT=/opt/moncabinet/backup.sh

# Email admin pour alertes backup (utilise Brevo)
ADMIN_EMAIL=admin@moncabinet.tn
